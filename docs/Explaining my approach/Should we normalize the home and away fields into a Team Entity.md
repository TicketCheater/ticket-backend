# 홈, 원정 필드를 팀 엔티티로 정규화 해야 하는가

## 요약
- 초기에는 팀들을 단순 문자열로 나타낼 수 있다.
- 애플리케이션이 성장함에 따라 이러한 문자열을 관리하는 것은 번거롭고 오류가 발생하기 쉽다.

## 장점
- 데이터 중복 감소: 팀 이름을 별도의 `Team` 엔티티에 저장함으로써 여러 레코드에 팀 이름을 반복할 필요가 없어진다. 이는 오타나 팀 이름의 변형으로 인한 불일치 위험을 줄인다.
- 업데이트 간소화: 팀 이름을 변경해야 할 때, `Team` 엔티티만 변경하면 된다. 이 변경 사항은 팀이 참조되는 모든 곳에 자동으로 반영되어 일관성을 보장한다.
- 중앙 집중화된 팀 정보: 팀 이름, 위치 및 기타 속성에 모든 정보를 한 곳에서 관리할 수 있다. 이는 데이터 관리를 단순화하고 유지 관리를 용이하게 한다.
- 향상된 쿼리 성능: 적절한 인덱싱과 함께 정규화를 통해 쿼리 성능을 향상시킬 수 있다.
- 확장을 위한 더 나은 구조: 애플리케이션이 성장함에 따라 `Team` 엔티티에 새로운 속성이나 관계를 추가하는 것이 더 쉬워진다.

## 단점
- 조인 연산: 정규화는 일반적으로 데이터 쿼리 시 추가적인 조인 연산을 필요로 하여 쿼리 논리를 복잡하게 만들고 성능에 영향을 미칠 수 있다.
- 쿼리 성능: 조인 연산의 필요성으로 인해 성능 오버헤드를 도입할 수 있다. 물론 적절한 인덱싱과 쿼리 최적화를 통해 완화할 수 있지만 고려해야 할 사항이다.
- 데이터 마이그레이션: 기존에 데이터가 남아있으면 마이그레이션 과정이 필요하다.

## +) DB 정규화 원칙
- 제1정규화(1NF)
  - 각 테이블이 원자값을 가지도록 보장하여, 각 레코드가 고유해야 한다.
  - `home` 과 `away` 문자열 필드를 원자값을 가진 `Team` 엔티티로 대체하여 이를 달성할 수 있다.
- 제2정규화(2NF)
  - 기본 키의 부분집합에 종속된 모든 비프라임 속성을 제거해야 한다.
  - 별도의 `Team` 엔티티를 생성하고 이를 `Game` 엔티티에서 참조하게 함으로써 부분 종속성을 제거할 수 있다. 팀 이름은 더 이상 `Game` 엔티티에 직접 저장되지 않고 참조된다.
- 제3정규화(3NF)
  - 모든 컬럼이 기본 키에만 의존하며, 서로 독립적이어야 한다.
  - 정규화 과정을 통해 팀 정보는 게임 정보와 분리되어 관리되므로 키가 아닌 속성 간의 상호 의존성이 줄어든다.
