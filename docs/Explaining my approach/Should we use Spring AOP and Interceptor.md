# Spring AOP 와 Interceptor 를 사용해야 하는 이유

## Spring AOP?
- Spring AOP(Aspect-Oriented Programming) 는 스프링 프레임워크의 중요 기능 중 하나다.
- 애플리케이션의 여러 부분에 걸쳐 공통 기능을 쉽게 적용할 수 있게 해주는 프로그래밍 패러다임이다.
- 주로 로깅, 보안, 트랜잭션 관리 등과 같은 횡단 관심사(cross-cutting concern)를 분리하여 모듈화할 때 사용된다.

## Interceptor
- 스프링 mvc 에서 인터셉터는 HTTP 요청 처리 중 특정 시점에서 요청을 가로채고 처리하는 기능을 제공한다.
- 주로 보안, 로깅, 권한 부여 등의 작업에 활용되며, 주로 컨트롤러에 적용된다.

## 장점
- 관심사의 분리와 모듈화 
  - Spring AOP 를 사용하여 핵심 비즈니스 로직에서 공통 관심사를 분리하고 모듈화할 수 있다. 이렇게 하면 코드의 가독성과 유지보수성이 향상된다.
  - Interceptor 를 사용하여 웹 계층에서 발생하는 보안, 로깅 등의 관심사를 분리하고 모듈화할 수 있다. 이는 웹 계층의 코드를 더욱 깔끔하고 관리하기 쉽게 만든다.
- 각 계층의 역할 분리:
  - Spring AOP 는 주로 서비스 계층에서 핵심 비즈니스 로직에 적용된다. 이는 서비스 계층의 역할에 집중하고, 비즈니스 로직에만 집중할 수 있도록 돕는다.
  - Interceptor 는 주로 웹 계층에서 요청 처리에 적용된다. 이는 웹 계층의 역할에 집중하고, HTTP 요청 및 응답 처리에만 집중할 수 있도록 돕는다.
- 보안과 로깅의 통합 관리:
  - Spring AOP 를 사용하여 서비스 계층에서 발생하는 보안과 로깅과 같은 공통 관심사를 통합적으로 관리할 수 있다.
  - Interceptor 를 사용하여 웹 계층에서 발생하는 보안과 로깅을 통합적으로 관리할 수 있다. 이는 보안 정책 및 로깅 규칙을 중앙에서 관리하고 일관된 방식으로 적용할 수 있다.

## 차이점
- 적용 범위
  - Spring AOP 는 메서드 호출 시점에서만 동작하며, 주로 서비스 계층의 비즈니스 로직의 적용된다.
  - Interceptor 는 HTTP 요청 처리 과정에서 동작하며, 주로 웹 계층의 요청 처리에 적용된다.
- 적용 대상
  - Spring AOP 는 주로 서비스 계층의 빈에 적용되며, 메서드 호출 전, 후, 예외 발생 시 등에 동작한다.
  - Interceptor 는 주로 컨트롤러에 적용되며, HTTP 요청 처리 전, 후에 동작한다.

## 사용 사례
- Spring AOP 사용 사례
  - 서비스 계층에서 트랜잭션 관리: `@Transactional` 어노테이션을 사용하여 트랜잭션 경계를 설정하고 롤백 처리를 자동화한다.
  - 로깅: 메서드 호출 시간, 파라미터 등을 로깅하여 애플리케이션의 동작을 모니터링한다.
- Interceptor 사용 사례
  - 보안 인증: JWT 토큰을 검증하여 인증된 사용자에게만 접근을 허용한다.
  - 로깅: HTTP 요청 및 응답 정보를 로깅하여 애플리케이션의 동작을 기록한다.
