# Prometheus 를 채택한 이유

## Prometheus?
- 오픈 소스 시스템 모니터링 및 경고 도구로, 시계열 데이터베이스에 기반한 성능 모니터링과 알람을 제공한다.
- 다양한 시스템과 애플리케이션의 메트릭을 수집, 저장, 분석하고, 문제 발생 시 알림을 제공함으로써 시스템의 가용성과 성능을 유지하는 데 도움을 준다.

## 주요 특징
- 다차원 데이터 모델: 라벨(label)을 사용하여 메트릭을 다차원적으로 구성할 수 있다. 이를 통해 복잡한 쿼리와 필터링이 가능하다.
- 강력한 쿼리 언어: PromQL(Prometheus Query Language)을 사용하여 다양한 방식으로 데이터를 조회하고 분석할 수 있다.
- 푸시 모드와 풀 모드: 일반적으로 푸시 모드를 사용하는 다른 모니터링 도구들과 달리, Prometheus 는 풀 모드(pull mode)를 기본으로 하여 각 타겟에서 주기적으로 데이터를 수집한다.
- 알림 관리: Alertmanager 와 통합되어, 특정 조건이 충족될 때 경고를 생성하고 알림을 전송할 수 있다.
- 시계열 데이터 저장: 자체 시계열 데이터베이스를 사용하여 고도로 최적화된 방식으로 데이터를 저장하고 조회할 수 있다.
- 다양한 익스포터: 다양한 시스템과 애플리케이션에서 메트릭을 수집하기 위해 여러 익스포터를 제공한다.

## 유사 도구들의 장단점
- InfluxDB
  - 장점: 고성능 시계열 데이터베이스로, 대규모 데이터 처리에 적합하다.
  - 단점: 설정이 복잡할 수 있으며, PromQL 과 같은 강력한 쿼리 언어를 제공하지 않는다.
- Nagios
  - 장점: 오랜 역사를 가진 신뢰성 높은 모니터링 도구로, 다양한 플러그인을 지원한다.
  - 단점: 설정이 복잡하고, 확장성이 낮으며, 시계열 데이터 처리에 적합하지 않다.
- Zabbix
  - 장점: 다양한 모니터링 기능을 제공하며, 웹 기반 인터페이스를 통해 관리가 용이하다.
  - 단점: 설정과 유지보수가 복잡할 수 있으며, 대규모 시스템에서는 성능 문제가 발생할 수 있다.

## Prometheus 다룰 시 주의사항
- 데이터 저장소 관리: Prometheus 는 자체 시계열 DB 를 사용하므로, 데이터 보존 정책을 명확히 설정하고 관리해야 한다.
- 자원 사용: 모니터링 대상이 많아질수록 Prometheus 서버의 자원 사용량이 증가할 수 있으므로, 자원 모니터링과 최적화가 필요하다.
- 네트워크 트래픽: 풀 모드로 데이터를 수집하므로, 네트워크 트래픽에 주의해야 한다. 특히 대규모 시스템에서는 네트워크 부하를 분산시키기 위한 설계가 필요하다.
- 알림 설정: Alertmanager 를 사용하여 경고를 설정할 때, 경고 조건과 알림 수신 방법을 신중히 구성해야 한다. 불필요한 알림이 빈번하면 경고의 신뢰도가 떨어질 수 있다.
- 백업 및 복구: 데이터의 중요성을 고려하여 정기적인 백업과 복구 절차를 마련해야 한다.
